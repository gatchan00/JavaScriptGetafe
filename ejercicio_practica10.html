<html>
<script type="text/javascript">
var listadoUsuarios=[]
var currUser={}
currUser.preferencias=[]
function ponNombre(){
	currUser.nombre=document.getElementById('nombre').value;
	muestraUsuario()
	document.getElementById('nombre').value=""
}
function ponEdad(){
	currUser.edad=parseInt(document.getElementById('edad').value);
	muestraUsuario()
	document.getElementById('edad').value=""
}
function ponPreferencia(){
	currUser.preferencias.push(document.getElementById('preferencia').value);
	muestraUsuario()
	document.getElementById('preferencia').value=""
}
function insertaUsuario(){
	listadoUsuarios.push(currUser)
	currUser={}
	currUser.preferencias=[]
	muestraUsuarios()
}

function muestraUsuario(){
if (currUser.preferencias != undefined){
document.getElementById("info").innerHTML="CurrentUser <br>----<br> nombre= "+currUser.nombre+"<br> edad= "+currUser.edad+"<br> preferencias= "+currUser.preferencias.join(",")
}
else{
document.getElementById("info").innerHTML="CurrentUser <br>----<br> nombre= "+currUser.nombre+"<br> edad= "+currUser.edad
}
}
function muestraUsuarios(){
var result="LISTADO:<br>----<br>";
for (var i=0;i<listadoUsuarios.length;i++){
result+="usuario "+i+" nombre= "+listadoUsuarios[i].nombre+"<br> edad= "+listadoUsuarios[i].edad+"<br> preferencias= "+listadoUsuarios[i].preferencias.join(",")+"<br>----<br>"
}
document.getElementById("info").innerHTML=result;
}
</script>
<body>
<input id="nombre" type="text">
<button type="button" onclick="ponNombre()"> Poner Nombre</button>
<br>
<input id="edad" type="text">
<button type="button" onclick="ponEdad()"> Poner Edad</button>
<br>
<input id="preferencia" type="text">
<button type="button" onclick="ponPreferencia()"> Poner preferencia</button>
<br>
<button type="button" onclick="insertaUsuario()"> InsertarUsuario</button>
<br>
<button type="button" onclick="muestraUsuarios()"> Mostrar usuarios</button>
<br>
<p id="info"></p>
</body>
</html>

<!-- document.getElementById('demo').innerHTML = Date()-->